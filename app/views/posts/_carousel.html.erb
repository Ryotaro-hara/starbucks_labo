<div id="carouselExampleControls" class="carousel slide bg-white" data-bs-ride="carousel">
  <div class="carousel-inner">
  <% all_ranks.each_with_index do |post, i| %>
    <div class="container-fluid carousel-item <%= "active" if i.zero? %>">
      <div class="row mx-2 pt-3">
          <div class="col col-12">
            <%= link_to post_path(post.id), class: "text-decoration-none text-black" do %>
              <div class="card">
                <%= image_tag post.image.url, class: "post_image w-100" %>
                <div class="card-body">
                  <div class="post-user-detile d-flex mb-2">
                    <div class="post-show-user-icon me-3">
                      <% if post.user.image? %>
                        <%= image_tag post.user.image.url, class: "user-icon", width: '40px' ,height: '40px' %>
                      <% else %>
                        <%= image_tag "default_icon.jpeg", class: "user-icon", width: '40px' ,height: '40px' %>
                      <% end %>
                    </div>
                    <div class="post-show-user-name align-self-center"><%= post.user.name %></div>
                  </div>
                  <div class="card-title fs-5 no-underline">
                    <%= post.title %>
                  </div>
                  <div class="card-change mb-2 d-flex">
                    <% if post.change == "ちょい変" %>
                      <div class="badge bg-success me-auto"><%= post.change %></div>
                    <% else %>
                      <div class="badge bg-warning me-auto"><%= post.change %></div>
                    <% end %>
                    <div class="text-secondary me-1"><i class="fa-regular fa-heart"></i><%= post.favorites.count %></div>
                    <div class="text-secondary"><i class="fa-regular fa-comment"></i><%= post.comments.count %></div>
                  </div>
                  <div class="card-create d-flex justify-content-end text-secondary">
                    <%= post.created_at.to_s(:datetime_jp) %>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
      </div>
    </div>   
  <% end %>   
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon bg-success" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon bg-success" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
